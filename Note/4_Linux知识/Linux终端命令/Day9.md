## Linux学习

*复习笔记*

**Day9  ** 命令行通配符、常用转义字符以及环境变量

1. **命令行的通配符**：即通用的匹配信息的符号，当自己忘记了文件全名时可以使用通配符来代替未知部分进行查找。

   比如星号（*）代表匹配**零个**或多个字符，问号（?）代表匹配单个字符，中括号内加上数字[0-9]代表匹配0～9之间的单个数字的字符，而中括号内加上字母[abc]则是代表匹配a、b、c三个字符中的任意一个字符。

   表2-3                                        Linux系统中的通配符及含义

   | 通配符      | 含义             |
   | ----------- | ---------------- |
   | *           | 任意字符         |
   | ?           | **单个**任意字符 |
   | [a-z]       | 单个小写字母     |
   | [A-Z]       | 单个大写字母     |
   | [a-Z]       | 单个字母         |
   | [0-9]       | 单个数字         |
   | [[:alpha:]] | 任意字母         |
   | [[:upper:]] | 任意大写字母     |
   | [[:lower:]] | 任意小写字母     |
   | [[:digit:]] | 所有数字         |
   | [[:alnum:]] | 任意字母加数字   |
   | [[:punct:]] | 标点符号         |

   * 除了使用[0-9]来匹配0～9之间的单个数字，也可以用[135]这样的方式**仅匹配这3个指定数字中的一个**；若没有匹配到数字1或2或3，则不会显示出来。

   * 通配符不仅可用于搜索文件或代替被通配的字符，还可以与创建文件的命令相结合，一口气创建出好多个文件。不过在创建多个文件时，需要使用大括号，并且字段之间用逗号间隔。

     ```bash
     [root@linuxprobe ~]# touch {AA,BB,CC}.conf
     [root@linuxprobe ~]# ls -l *.conf
     -rw-r--r--. 1 root root 0 Sep 22 01:54 AA.conf
     -rw-r--r--. 1 root root 0 Sep 22 01:54 BB.conf
     -rw-r--r--. 1 root root 0 Sep 22 01:54 CC.conf
     ```

   * 使用通配符还可以输出连串的的信息，如

     ```bash
     echo niko{1,2,3}
     niko1 niko2 niko3
     ```

2. 常用的4个**转义字符：**

   **反斜杠（\）**：使反斜杠后面的一个变量变为单纯的字符。

   **单引号（' '）**：转义其中所有的变量为单纯的字符串。(反斜杠的升级-AOE版)

   <u>**双引号（" "）**：保留其中的变量属性，不进行转义处理。</u>

   **反引号（` `）**：把其中的命令执行后返回结果。

   * 如果参数中出现了空格，就加双引号；如果参数中没有空格，那就不用加双引号。

3. 重要的**环境变量**

   用户提交了一条命令给系统之后 , 系统会进行以下操作

   * 判断命令是以绝对方式还是相对方式输入.
   * 检查是否为命令别名(用户自己使用`alias`命令创建).
   * Bash解释器判断是内部命令还是外部命令.
   * 以上操作确定命令后去存储器中寻找对应命令文件并执行相应命令.

   因为待运行的程序一般都不在当前命令行的工作目录之下，在最后一步中 , 系统去查找命令文件时遵循的是文件路径的引导 , 而PATH变量（**环境变量的一种**）也正是定义这些路径的变量 ,  作用是告知解释器这些命令可能存放的位置。我们可以使用`env`命令来查看Linux系统中所有的环境变量。

   PATH变量的值是**多个路径值的总和** ，每个路径之间用分号隔开 ， 需要使用的对象就会一一在这些路径当中查找，充当小帮手的作用（想象徒弟给打铁师傅打下手）。

   一般我们不将当前目录（.）添加到PATH中，因为尽管可以将当前目录（.）添加到PATH变量中，从而在某些情况下可以让用户免去输入命令所在路径的麻烦。但是，如果黑客在比较常用的公共目录*/tmp*中存放了一个与ls或cd命令同名的木马文件，而用户又恰巧在公共目录中执行了这些命令，那么就极有可能中招了。类似的情况还有很多。
